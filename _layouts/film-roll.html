---
layout: default
---
<article class="film-roll">
  
  <header class="film-roll-header">
    <h1 class="film-roll-title">{{ page.title }}</h1>
    <div class="film-roll-meta">
      <span class="meta-item">{{ page.date | date: "%B %-d, %Y" }}</span>
      {% if page.bike %}<span class="meta-item">{{ page.bike }}</span>{% endif %}
      {% if page.conditions %}<span class="meta-item">{{ page.conditions }}</span>{% endif %}
      {% if page.cameras %}<span class="meta-item">{{ page.cameras }}</span>{% endif %}
    </div>
  </header>

  <div class="film-roll-content">
    {% if page.images %}
      <div class="film-roll-grid">
        {% for image in page.images %}
          <figure class="film-roll-image">
            <img src="{{ image.src | relative_url }}" 
                 alt="{{ image.caption | default: page.title }}" 
                 loading="lazy"
                 onclick="openLightbox(this)">
            {% if image.caption %}
              <figcaption>{{ image.caption }}</figcaption>
            {% endif %}
          </figure>
        {% endfor %}
      </div>
    {% endif %}
    
    {% if content and content != "" %}
      <div class="film-roll-notes">
        {{ content }}
      </div>
    {% endif %}
  </div>

  <nav class="film-roll-nav">
    <div class="nav-links">
      {% assign prev_filmroll = null %}
      {% assign next_filmroll = null %}
      {% for post in site.posts %}
        {% if post.tags contains "filmroll" %}
          {% if post.date > page.date and next_filmroll == null %}
            {% assign next_filmroll = post %}
          {% elsif post.date < page.date %}
            {% assign prev_filmroll = post %}
            {% break %}
          {% endif %}
        {% endif %}
      {% endfor %}
      
      {% if prev_filmroll %}
        <a href="{{ prev_filmroll.url | relative_url }}" class="nav-prev">
          ← {{ prev_filmroll.title | truncate: 30 }}
        </a>
      {% endif %}
      
      <a href="/?filter=filmroll" class="nav-archive">All Film Rolls</a>
      
      {% if next_filmroll %}
        <a href="{{ next_filmroll.url | relative_url }}" class="nav-next">
          {{ next_filmroll.title | truncate: 30 }} →
        </a>
      {% endif %}
    </div>
  </nav>

</article>

<script>
// Simple lightbox for film roll images
function openLightbox(img) {
  const lightbox = document.createElement('div');
  lightbox.className = 'lightbox';
  lightbox.innerHTML = `
    <div class="lightbox-content">
      <span class="lightbox-close">&times;</span>
      <img src="${img.src}" alt="${img.alt}">
    </div>
  `;
  
  document.body.appendChild(lightbox);
  
  // Close on click
  lightbox.addEventListener('click', function(e) {
    if (e.target === lightbox || e.target.classList.contains('lightbox-close')) {
      document.body.removeChild(lightbox);
    }
  });
  
  // Close on escape key
  document.addEventListener('keydown', function(e) {
    if (e.key === 'Escape') {
      if (document.body.contains(lightbox)) {
        document.body.removeChild(lightbox);
      }
    }
  });
}
</script>
