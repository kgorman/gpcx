services:
  - type: web
    name: ghost-blog
    env: docker
    autoDeploy: false
    disk:
      name: ghost
      mountPath: /var/lib/ghost/content
      sizeGB: 10 #You can adjust this based on your needs
    envVars:
      - key: database__client
        value: postgres
      - key: database__connection__host
        value: "dpg-d3mkf62li9vc7384cat0-a"
      - key: database__connection__database
        fromDatabase:
          name: ghost-db
          property: database
      - key: database__connection__user
        fromDatabase:
          name: ghost-db
          property: user
      - key: database__connection__password
        fromDatabase:
          name: ghost-db
          property: password
      - key: database__connection__port
        value: "5432"
      - key: database__connection__ssl__rejectUnauthorized
        value: "false"

databases:
  - name: ghost-db
    plan: free
    databaseName: ghost
